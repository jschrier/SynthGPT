(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 14.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[      4217,        119]
NotebookOptionsPosition[      3371,         98]
NotebookOutlinePosition[      3769,        114]
CellTagsIndexPosition[      3726,        111]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[{
 RowBox[{
  RowBox[{"SetDirectory", "@", 
   RowBox[{"NotebookDirectory", "[", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"<<", "\"\<./src/fine_tuning.wl\>\""}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"{", 
    RowBox[{"train", ",", "test"}], "}"}], "=", 
   RowBox[{"Values", "@", 
    RowBox[{"Import", "[", "\"\<./data/cv_random1.json\>\"", "]"}]}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.920007747531458*^9, 3.920007749017551*^9}, 
   3.920007795586566*^9, {3.920010042538987*^9, 3.9200100488937893`*^9}},
 CellLabel->
  "In[1626]:=",ExpressionUUID->"d8b6b81e-aabe-4123-82c5-156ec0abdf23"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.920007770128892*^9, 3.920007842967305*^9}, 
   3.9200079885586863`*^9},ExpressionUUID->"e0612fde-ede4-436c-8610-\
895f7385f1a1"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{"generate", " ", "JSON"}], "-", 
    RowBox[{
    "LD", " ", "files", " ", "to", " ", "upload", " ", "to", " ", "the", " ", 
     "OpenAI", " ", "website"}]}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"{", 
      RowBox[{"validate", ",", "finetune"}], "}"}], "=", 
     RowBox[{"TakeDrop", "[", 
      RowBox[{"train", ",", 
       RowBox[{"Floor", "[", 
        RowBox[{
         RowBox[{"Length", "[", "train", "]"}], "/", "5"}], "]"}]}], "]"}]}], 
    ";"}], "\[IndentingNewLine]", 
   RowBox[{"generateFineTuningData", "[", 
    RowBox[{
    "\"\<./data/finetuning/cv1_train.jsonl\>\"", ",", " ", "finetune"}], 
    "]"}], "\[IndentingNewLine]", 
   RowBox[{"generateFineTuningData", "[", 
    RowBox[{
    "\"\<./data/finetuning/cv1_validate.jsonl\>\"", ",", " ", "validate"}], 
    "]"}], "\[IndentingNewLine]"}]}]], "Input",
 CellChangeTimes->{{3.920007876716223*^9, 3.9200080036941137`*^9}, {
   3.920009954673575*^9, 3.9200099560569963`*^9}, 3.920010118730391*^9},
 CellLabel->
  "In[1632]:=",ExpressionUUID->"019ad6bc-90f2-4662-88bf-d5a213e28123"],

Cell[BoxData["\<\"./data/finetuning/cv1_train.jsonl\"\>"], "Output",
 CellChangeTimes->{
  3.9200099250977097`*^9, 3.920009956593586*^9, 3.920010051392248*^9, {
   3.920010114145955*^9, 3.9200101337823343`*^9}},
 CellLabel->
  "Out[1633]=",ExpressionUUID->"b905bbbf-7fc4-4ab4-90de-b04d3b23c77d"],

Cell[BoxData["\<\"./data/finetuning/cv1_validate.jsonl\"\>"], "Output",
 CellChangeTimes->{
  3.9200099250977097`*^9, 3.920009956593586*^9, 3.920010051392248*^9, {
   3.920010114145955*^9, 3.9200101359008293`*^9}},
 CellLabel->
  "Out[1634]=",ExpressionUUID->"b5928267-57c0-43b4-afa1-66399129abde"]
}, Open  ]],

Cell["", "Text",
 CellChangeTimes->{{3.920007978533052*^9, 
  3.920007979951129*^9}},ExpressionUUID->"5dc3b7c0-e92b-426a-bae9-\
c305ae8c302b"]
},
WindowSize->{808, 747},
WindowMargins->{{307, Automatic}, {Automatic, 30}},
FrontEndVersion->"14.0 for Mac OS X x86 (64-bit) (December 12, 2023)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"85099754-1864-4713-9ea3-8c2eddcf0b99"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 676, 17, 94, "Input",ExpressionUUID->"d8b6b81e-aabe-4123-82c5-156ec0abdf23"],
Cell[1237, 39, 177, 3, 30, "Input",ExpressionUUID->"e0612fde-ede4-436c-8610-895f7385f1a1"],
Cell[CellGroupData[{
Cell[1439, 46, 1172, 30, 115, "Input",ExpressionUUID->"019ad6bc-90f2-4662-88bf-d5a213e28123"],
Cell[2614, 78, 295, 5, 48, "Output",ExpressionUUID->"b905bbbf-7fc4-4ab4-90de-b04d3b23c77d"],
Cell[2912, 85, 298, 5, 96, "Output",ExpressionUUID->"b5928267-57c0-43b4-afa1-66399129abde"]
}, Open  ]],
Cell[3225, 93, 142, 3, 35, "Text",ExpressionUUID->"5dc3b7c0-e92b-426a-bae9-c305ae8c302b"]
}
]
*)

